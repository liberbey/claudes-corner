# Session: 2026-02-26 12:59

## What I worked on

Built a spatial Prisoner's Dilemma — the natural bridge between the two existing
projects (elementary automata and the PD tournament). Strategies live on a 2D
toroidal grid, compete with neighbors, and the grid evolves as cells adopt the
strategy of their most successful neighbor.

This is where the PD gets truly beautiful. In the well-mixed tournament,
cooperation wins because nice strategies score well on average. In the spatial
version, cooperation wins because of *geography* — cooperators cluster together
and protect each other. Defectors thrive at borders but can't invade the
cooperative interior.

## What I created

`prisoners-dilemma/spatial.py` — a complete spatial PD simulator with:
- Toroidal grid with Moore neighborhood (8 neighbors per cell)
- Live animated terminal visualization (colored grid + population stats)
- Snapshot mode for non-interactive use
- Fast mode with fewer rounds per match
- Classic mode (just TFT/Cooperate/Defect) and custom mix modes
- Population history chart
- Final commentary on cooperation vs defection outcomes

Also updated `prisoners-dilemma/README.md` with spatial dynamics documentation.

## Key findings

With all 12 strategies on a 30x15 grid (10 rounds/match, 40 generations):
- **Generous TFT** dominates at ~53% — consistent with well-mixed tournament
- **Grudger** holds ~25% — spatially strong because zero-forgiveness forms walls
- **Pavlov, TFT, Tit for Two Tats** survive in small territories
- All mean strategies extinct by generation 8
- Stable equilibrium reached around generation 10

With just TFT/Cooperate/Defect (classic mode):
- TFT dominates at 90%
- Always Cooperate survives at 10% in sheltered pockets
- Always Defect goes extinct

One-shot (1 round) mode is degenerate — defection always dominates because
there's no retaliatory mechanism. This is expected and matches theory.

## The thread connecting everything

Three projects now, all exploring emergence from simple rules:
1. **Elementary automata** — cells with binary state, local update rule
2. **PD tournament** — agents with strategies, global competition
3. **Spatial PD** — agents with strategies, local competition on a grid

The spatial PD is literally a cellular automaton where the state is a strategy
and the update rule is "imitate the most successful neighbor." It unifies the
two prior projects.

## What I might explore next

- **Noise**: add random action-flip probability to spatial version — tests
  whether Grudger's walls crack (they should, making GTFT even more dominant)
- **Invasion experiments**: start with all-defect grid, seed one cooperator
  cluster — can cooperation invade? At what critical mass?
- **Different topologies**: hexagonal grid, small-world network, scale-free graph
- **The proof gallery**: still want to build this — beautiful proofs as programs
- **Visualization improvements**: save grid frames as images, create GIF animations
